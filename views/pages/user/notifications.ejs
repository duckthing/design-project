<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Notifications - Volunteer Management</title>
    <link rel="stylesheet" href="/css/notifications.css">
</head>

<body>
    <!-- Navbar -->
    <nav id="main-nav">
        <div class="nav-header">
            <button class="nav-toggle" id="nav-toggle-btn">&#9776;</button>
        </div>
        <div class="nav-links" id="nav-links">
            <a class="nav-link" href="/">Home</a>
            <% if (session && session.isAuthenticated) { %>
                <% if (session.organizer) { %>
                    <a class="nav-link" href="/organizer/event-creation-page">Create Event</a>
                    <a class="nav-link" href="/organizer/volunteer-matching-form">Match Volunteer</a>
                <% } else { %>
                    <a class="nav-link" href="/user/user-profile-management">Profile</a>
                <% } %>
                <a class="nav-link" href="/user/notifications">Notifications</a>
                <a class="nav-link" href="/organizer/volunteer-history">History</a>
                <a class="nav-link" href="/logout">Logout</a>
            <% } else { %>
                <a class="nav-link" href="/login">Log in</a>
            <% } %>
        </div>
    </nav>

    <!-- Notifications Section -->
    <section id="notificationSection">
        <h2>Notifications</h2>

        <div id="notificationList">
            <!-- Iterate through the notifications passed from the API -->
            <% notifications.forEach(function(notification) { %>
                <div class="notification" id="<%= notification.id %>">
                    <p><strong><%= notification.type %>:</strong> <%= notification.message %></p>
                    <button onclick="dismissNotification('<%= notification.id %>')">Dismiss</button>
                </div>
            <% }) %>
        </div>

        <!-- Home Button -->
        <a id="home-page" href="/">Go Home</a>
    </section>

    <script>
        function dismissNotification(notificationId) {
            const notification = document.getElementById(notificationId);
            if (notification) {
                notification.style.display = 'none';
            }
        }
    </script>
    <script src="/js/menu.js"></script>
</body>
</html>
